# [中文] Debian Almquist Shell (dash) strace 使用方法: 跟踪系统调用和信号

## 概述
`strace` 是一个用于监视进程执行时系统调用和信号的工具。它可以帮助开发者和系统管理员调试程序，分析程序的行为，以及发现潜在的问题。

## 使用方法
基本语法如下：
```bash
strace [options] [arguments]
```

## 常用选项
- `-c`：统计系统调用的次数和时间。
- `-f`：跟踪由 fork 创建的子进程。
- `-p`：附加到一个正在运行的进程。
- `-o <file>`：将输出重定向到指定的文件。
- `-e <expression>`：过滤特定的系统调用。

## 常见示例
1. 跟踪一个命令的系统调用：
   ```bash
   strace ls
   ```

2. 将输出保存到文件中：
   ```bash
   strace -o output.txt ls
   ```

3. 统计系统调用的使用情况：
   ```bash
   strace -c ls
   ```

4. 跟踪一个正在运行的进程（假设进程ID为1234）：
   ```bash
   strace -p 1234
   ```

5. 过滤特定的系统调用（例如，只跟踪 `open` 调用）：
   ```bash
   strace -e trace=open ls
   ```

## 小贴士
- 使用 `-f` 选项可以确保跟踪所有子进程，这对于复杂程序特别有用。
- 将输出重定向到文件可以方便后续分析，尤其是在跟踪大量系统调用时。
- 结合 `-c` 选项，可以快速了解程序的性能瓶颈。
- 在调试时，注意查看 `strace` 输出中的错误信息，这些信息可以提供有价值的线索。