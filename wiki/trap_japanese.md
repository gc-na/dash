# [日本語] Debian Almquist Shell (dash) trap 使用法: シグナルを処理する

## Overview
`trap` コマンドは、シェルスクリプト内で特定のシグナルを捕捉し、それに対して指定したコマンドを実行するために使用されます。これにより、スクリプトが終了する際にクリーンアップ処理を行ったり、特定のイベントに対して反応したりすることができます。

## Usage
基本的な構文は以下の通りです。

```
trap [コマンド] [シグナル]
```

## Common Options
- `SIGINT`: Ctrl+C で送信される割り込み信号。
- `SIGTERM`: プロセスの終了要求を示す信号。
- `EXIT`: スクリプトが終了する際に実行されるコマンド。

## Common Examples

### 例1: SIGINT を捕捉する
Ctrl+C が押されたときにメッセージを表示するスクリプトです。

```sh
trap 'echo "中断されました"' SIGINT
while true; do
    echo "実行中..."
    sleep 1
done
```

### 例2: スクリプト終了時のクリーンアップ
スクリプトが終了する際に一時ファイルを削除する例です。

```sh
trap 'rm -f /tmp/tempfile' EXIT
touch /tmp/tempfile
echo "一時ファイルを作成しました"
```

### 例3: 複数のシグナルを処理する
複数のシグナルに対して同じ処理を行う例です。

```sh
trap 'echo "シグナルを受け取りました"' SIGINT SIGTERM
while true; do
    sleep 1
done
```

## Tips
- `trap` を使用する際は、シグナルを適切に指定することが重要です。
- スクリプトのクリーンアップ処理を `EXIT` シグナルで設定することで、予期しない終了時にも対応できます。
- デバッグ中は、シグナルを捕捉することで、スクリプトの動作をより明確に理解することができます。