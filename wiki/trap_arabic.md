# [ديبيان] Debian Almquist Shell (dash) trap الاستخدام: [التعامل مع إشارات النظام]

## Overview
يستخدم أمر `trap` في شل الداش (dash) للتعامل مع إشارات النظام. يسمح لك بتحديد أوامر معينة يتم تنفيذها عند تلقي الشل لإشارات معينة مثل الإنهاء أو التوقف. يعد هذا الأمر مفيدًا لإدارة سلوك السكربتات وضمان تنفيذ بعض التعليمات البرمجية قبل إنهاء البرنامج.

## Usage
يمكن استخدام الأمر `trap` بالشكل التالي:

```bash
trap [options] [commands] [signals]
```

## Common Options
- `-p`: يعرض إعدادات `trap` الحالية.
- `-l`: يعرض قائمة بالإشارات المتاحة.
- `-n`: يمنع تنفيذ الأوامر عند تلقي الإشارة.

## Common Examples

### 1. تنفيذ أمر عند تلقي إشارة INT
يمكنك استخدام `trap` لتنفيذ أمر عند تلقي إشارة INT (مثل Ctrl+C):

```bash
trap 'echo "تم إلغاء العملية"' INT
```

### 2. تنظيف الملفات المؤقتة عند الخروج
يمكنك إعداد `trap` لتنظيف الملفات المؤقتة عند الخروج من السكربت:

```bash
trap 'rm -f /tmp/tempfile' EXIT
```

### 3. التعامل مع إشارة TERM
يمكنك استخدام `trap` للتعامل مع إشارة TERM:

```bash
trap 'echo "تم إنهاء السكربت"' TERM
```

## Tips
- تأكد من وضع أوامر `trap` في بداية السكربت لضمان تنفيذها عند تلقي الإشارات.
- استخدم `trap -p` للتحقق من إعدادات `trap` الحالية قبل إجراء تغييرات.
- تذكر أن بعض الإشارات قد تكون غير قابلة للاستخدام في بعض الأنظمة، لذا تحقق من الوثائق الخاصة بنظام التشغيل لديك.