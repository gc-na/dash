# [سیستم‌عامل] Debian Almquist Shell (dash) trap استفاده: مدیریت سیگنال‌ها و خروجی‌ها

## Overview
دستور `trap` در شل دَش برای مدیریت سیگنال‌ها و خروجی‌ها استفاده می‌شود. این دستور به شما اجازه می‌دهد تا رفتار اسکریپت‌های خود را در هنگام دریافت سیگنال‌های خاص تغییر دهید.

## Usage
سینتکس پایه دستور `trap` به صورت زیر است:

```bash
trap [عملیات] [سیگنال‌ها]
```

## Common Options
- `SIGINT`: سیگنال قطع (Ctrl+C) را مدیریت می‌کند.
- `SIGTERM`: سیگنال خاتمه را مدیریت می‌کند.
- `EXIT`: عملیاتی را در زمان خروج از اسکریپت اجرا می‌کند.
- `ERR`: عملیاتی را در صورت بروز خطا در اسکریپت اجرا می‌کند.

## Common Examples

### مثال ۱: مدیریت سیگنال قطع
در این مثال، با دریافت سیگنال قطع، یک پیام نمایش داده می‌شود:

```bash
trap 'echo "قطع شد!"' SIGINT
while true; do
    echo "در حال اجرا..."
    sleep 1
done
```

### مثال ۲: انجام عملی در زمان خروج
در این مثال، یک پیام در زمان خروج از اسکریپت نمایش داده می‌شود:

```bash
trap 'echo "خروج از اسکریپت..."' EXIT
echo "اسکریپت در حال اجرا است."
```

### مثال ۳: مدیریت خطا
در این مثال، با بروز خطا، یک پیام نمایش داده می‌شود:

```bash
trap 'echo "یک خطا رخ داد!"' ERR
false  # این دستور باعث بروز خطا می‌شود
```

## Tips
- از `trap` برای تمیز کردن منابع یا انجام کارهای خاص قبل از خروج از اسکریپت استفاده کنید.
- می‌توانید چندین سیگنال را به یک عملیات متصل کنید تا رفتار مشابهی برای آن‌ها داشته باشید.
- همیشه از `trap` برای مدیریت خطاها و سیگنال‌ها در اسکریپت‌های خود استفاده کنید تا از بروز مشکلات جلوگیری کنید.